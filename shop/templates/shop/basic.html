<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0,user-scalable=no"
    />
    <link rel="shortcut icon" href="media/shop/logo.jpg" type="image/x-icon" />
    <title>{% block title %}{%endblock%}</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"
      integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <!-- Button trigger modal -->
  {% load static %}
  <!-- Modal -->
  <div
    class="modal fade"
    id="signinModal"
    tabindex="-1"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">SIGN IN</h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body container">
          <form action="/signin" method="post">
            {%csrf_token%}
            <div class="container">
              <div class="mb-3">
                <label for="exampleFormControlInput10" class="form-label"
                  >Username</label
                >
                <input
                  type="text"
                  name="username"
                  class="form-control"
                  id="exampleFormControlInput10"
                  placeholder="Enter Your Email"
                />
              </div>
              <div class="mb-3">
                <label for="exampleFormControlInput20" class="form-label"
                  >Password</label
                >
                <input
                  type="password"
                  name="password"
                  class="form-control"
                  id="exampleFormControlInput20"
                  placeholder="Enter Your Password"
                />
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  value=""
                  id="form2Example31"
                  checked
                />
                <label class="form-check-label" for="form2Example31">
                  Remember me
                </label>
              </div>
              <div class="text-center mt-4">
                <p>
                  Not a member?
                  <a
                    href=""
                    data-bs-toggle="modal"
                    data-bs-target="#signupModal"
                    class="text-decoration-none"
                    >signup</a
                  >
                </p>
              </div>
              <div class="d-grid gap-2 mt-5 d-md-flex justify-content-center">
                <input
                  class="btn w-100 btn-primary"
                  type="submit"
                  value="SIGN IN"
                />
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  {% comment %} SignUpModal {% endcomment %}
  <div
    class="modal fade"
    id="signupModal"
    tabindex="-1"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">SIGN UP</h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body container">
          <form action="/signup" method="post">
            {%csrf_token%}
            <div class="container">
              <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label"
                  >Username</label
                >
                <input
                  type="text"
                  name="username"
                  class="form-control"
                  id="exampleFormControlInput1"
                  placeholder="Enter Your Username"
                />
              </div>
              <div class="mb-3">
                <label for="exampleFormControlInput2" class="form-label"
                  >Enter Your First Name</label
                >
                <input
                  type="text"
                  name="fname"
                  class="form-control"
                  id="exampleFormControlInput2"
                  placeholder="Enter Your First Name"
                />
              </div>
              <div class="mb-3">
                <label for="exampleFormControlInput3" class="form-label"
                  >Enter Your Last Name</label
                >
                <input
                  type="text"
                  name="lname"
                  class="form-control"
                  id="exampleFormControlInput3"
                  placeholder="Enter Your Last Name"
                />
              </div>
              <div class="mb-3">
                <label for="exampleFormControlInput4" class="form-label"
                  >Mobile No</label
                >
                <input
                  type="text"
                  name="mobileno"
                  class="form-control"
                  id="exampleFormControlInput4"
                  placeholder="Enter Your Mobile No"
                />
              </div>
              <div class="mb-3">
                <label for="exampleFormControlInput5" class="form-label"
                  >Email</label
                >
                <input
                  type="email"
                  name="email"
                  class="form-control"
                  id="exampleFormControlInput5"
                  placeholder="Enter Your Email"
                />
              </div>
              <div class="mb-3">
                <label for="exampleFormControlInput6" class="form-label"
                  >Password</label
                >
                <input
                  type="password"
                  name="password"
                  class="form-control"
                  id="exampleFormControlInput6"
                  placeholder="Enter Your Password"
                />
              </div>
              <div class="d-grid gap-2 mt-3 d-md-flex justify-content-center">
                <input
                  class="btn w-100 btn-primary"
                  type="submit"
                  value="SIGN UP"
                />
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <body class="{% block bodyclasses %}{% endblock bodyclasses %} p-0 m-0">
    <style>
      * {
        padding: 0;
        margin: 0;
      }
    </style>

    <nav
      class="navbar bg-dark {% block position %}{% endblock position %} top-0"
      style="z-index: 2"
    >
      <div class="nav container-fluid d-flex justify-content-around mx-sm-4">
        <a href='/' class="navbar-brand text-white order-sm-0 mx-sm-5">MBCART</a>

        <div class="d-flex order-sm-2">
          {% if user.is_authenticated %}

          <a href="/cart" type="button" class="btn btn-primary position-relative me-4">
            <i class="bi bi-cart3"></i>
            <span id="cart_items_count" 
              class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
            >
              0
              <span class="visually-hidden">unread messages</span>
            </span>
          </a>
          <!-- <form method="post" action="/signout"> -->
          <!-- <form method="post" action="/profile">
                    {%csrf_token%} -->
          <div class="btn-group">
            <a
              href="/profile"
              class="btn btn-primary dropdown-toggle"
              data-bs-toggle="tooltip"
              data-bs-placement="left"
              title="Go to Profile"
            >
              {{request.user|truncatechars:'15'}}
            </a>
          </div>
          <!-- </form> -->

          {% else %}
          <button
            type="button"
            class="btn btn-primary me-2 px-4"
            data-bs-toggle="modal"
            data-bs-target="#signinModal"
          >
            <i class="bi bi-cart3"></i>
          </button>
          <button
            type="button"
            class="btn btn-primary ms-3"
            data-bs-toggle="modal"
            data-bs-target="#signinModal"
          >
            Login
          </button>
          {% endif %}
        </div>
        <form
          class="d-flex flex-grow-1 order-sm-1 p-3 mx-sm-5"
          role="search"
          action="/searchResult"
          method="get"
        >
          <div class="input-group mx-lg-5">
            <input
              type="text"
              class="form-control"
              placeholder="Search"
              aria-label="Search"
              aria-describedby="basic-addon1"
              name="search"
              id="search"
              value="{{query}}"
            />
            <button type="submit" class="border-0 px-3 text-bg-danger">
              <i class="bi bi-search"></i>
            </button>
          </div>
        </form>
      </div>
    </nav>
    <nav class="category d-flex justify-content-evenly align-items-baseline">
      <div class="all"></div>
      <a href=""></a>
    </nav>

    {%block body%}
    
    {%endblock%}

    {% comment %} Footer {% endcomment %}

<!-- Footer -->
<footer class="text-center text-lg-start bg-dark bg-opacity-90 text-white">
  <!-- Section: Social media -->
  <section class="d-flex justify-content-center justify-content-lg-between p-4 border-bottom">
    <!-- Left -->
    <div class="me-5 d-none d-lg-block">
      <span>Get connected with us on social networks:</span>
    </div>
    <!-- Left -->

    <!-- Right -->
    <div class="" >
      <a href="" class="me-4 link-secondary  text-decoration-none">
        <i class="fab fa-facebook-f"></i>
      </a>
      <a href="" class="me-4 link-secondary text-decoration-none">
        <i class="fab fa-twitter"></i>
      </a>
      <a href="" class="me-4 link-secondary text-decoration-none">
        <i class="fab fa-google"></i>
      </a>
      <a href="" class="me-4 link-secondary text-decoration-none">
        <i class="fab fa-instagram"></i>
      </a>
      <a href="" class="me-4 link-secondary text-decoration-none">
        <i class="fab fa-linkedin"></i>
      </a>
      <a href="" class="me-4 link-secondary text-decoration-none">
        <i class="fab fa-github"></i>
      </a>
    </div>
    <!-- Right -->
  </section>
  <!-- Section: Social media -->

  <!-- Section: Links  -->
  <section class="">
    <div class="container text-center text-md-start mt-5">
      <!-- Grid row -->
      <div class="row mt-3">
        <!-- Grid column -->
        <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
          <!-- Content -->
          <h6 class="text-uppercase fw-bold mb-4">
            <i class="fas fa-gem me-3 text-secondary"></i>MBCART
          </h6>
          <p class="text-white-50" >
            MBCART is an Indian e-commerce company. The company initially focused on online book sales before expanding into other product categories such as consumer electronics, fashion, home essentials products.
          </p>
        </div>
        <!-- Grid column -->

        <!-- Grid column -->
        <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4 text-white-50">
          <!-- Links -->
          <h6 class="text-uppercase fw-bold mb-4 text-white">
            Make Money with Us
          </h6>
          <p>
            <a href="#!" class="text-reset">Sell on MBCART</a>
          </p>
          <p>
            <a href="#!" class="text-reset">Sell under MBCART</a>
          </p>
          <p>
            <a href="#!" class="text-reset">Advertise Your Products</a>
          </p>
          <p>
            <a href="#!" class="text-reset">MBCART Pay on Merchants</a>
          </p>
        </div>
        <!-- Grid column -->

        <!-- Grid column -->
        <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4 text-white-50">
          <!-- Links -->
          <h6 class="text-uppercase fw-bold mb-4 text-white">
           Help
          </h6>
          <p>
            <a href="#!" class="text-reset">Payments</a>
          </p>
          <p>
            <a href="#!" class="text-reset">Shipping</a>
          </p>
          <p>
            <a href="#!" class="text-reset">Cancellation & Returns</a>
          </p>
          <p>
            <a href="#!" class="text-reset">FAQ</a>
          </p>
        </div>
        <!-- Grid column -->
        <!-- Grid column -->
        <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
          <!-- Links -->
          <h6 class="text-uppercase fw-bold mb-4">Contact</h6>
          <p><i class="fas fa-home me-3 text-secondary"></i>MBCART Internet Private Limited</p>
          <p>
            <i class="fas fa-envelope me-3 text-secondary"></i>
            MBCART@gmail.com
          </p>
          <p><i class="fas fa-phone me-3 text-secondary"></i> + 91 9373259907</p>
          <p><i class="fas fa-phone me-3 text-secondary"></i> + 91 9370307771</p>
        </div>
        <!-- Grid column -->
      </div>
      <!-- Grid row -->
    </div>
  </section>
  <!-- Section: Links  -->

  <!-- Copyright -->
  <div class="text-center p-4" style="background-color: rgba(0, 0, 0, 0.025);">
    © <span id="current_year"></span> Copyright:
    <a class="text-reset " href="/">MBCART.com</a>
  </div>
  <!-- Copyright -->
</footer>
<!-- Footer -->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
      crossorigin="anonymous"
    ></script>
    <script>
      fetch("{%url 'getCartItems' %}", {
        method: "GET",
      })
        .then((response) => response.json())
        .then((data) => {
          document.getElementById("cart_items_count").innerText = data["num"];
          document.getElementById("current_year").innerText = data["year"];

        })
        .catch((error) => {
          console.error("Error:", error);
        });
    </script>
  </body>
</html>
