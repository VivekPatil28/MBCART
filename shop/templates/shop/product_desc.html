{% extends 'shop/basic.html' %}
{% load humanize %}
{%block title%}MBCART / Products{%endblock title%}
{% block body %}
<!-- Product section-->
<section>
    <style>
        #imgcont {
            position: sticky;
            top: 0px;
        }

        .infcont {
            margin-top: 20vh;
        }

        .table td+td {
            width: 75%;
        }

        @media only screen and (max-width: 770px) {
            #imgcont {
                position: static;
            }

            .clss {
                height: auto;
            }

            .infcont {
                margin-top: 0vh;
            }

        }
    </style>
    <div class="container ">
        <div class="row gx-4 gx-lg-5 align-items-start clss">
            <div id="imgcont" class="col-md-6"><img class="card-img-top mb-5 mb-md-0"
                    src='/media/{{product.product_image}}' alt="..." />
            </div>

            <div class="col-md-6 infcont">
                <div class="small mb-1" style="color:rgba(0, 0, 0, 0.8);">{{product.category}}</div>
                <h2 class="display-10 fw-bolder">{{product.product_name}}</h2>
                <div>
                    <style>
                        .checked {
                            color: green;
                        }
                    </style>
                    <span class="fa fa-star"></span>
                    <span class="fa fa-star"></span>
                    <span class="fa fa-star"></span>
                    <span class="fa fa-star"></span>
                    <span class="fa fa-star"></span>
                    <span>&nbsp;{{product.product_rating}}</span>
                </div>
                <div>
                    <h5 class="small mt-2" style="color:rgba(0, 0, 0, 0.8);">6,660 Ratings & 844 Reviews</h5>
                </div>
                <div class="fs-5 mb-5">
                    <span>
                        <h1>₹{{product.product_price|intcomma}}</h1>
                    </span>
                    <span class="text-decoration-line-through">₹{{product.product_initial_price|intcomma}}</span>
                </div>
                <p class="lead">{{product.product_desc}}</p>
                
                <div class="d-flex justify-content-center align-items-center mb-5">
                    <div class="btn-group w-100">
                        <form action="/AddToCart/{{i.product_id}}" method="post" class="w-100">
                            {% csrf_token %}
                            <button type="submit" class="btn btn-sm btn-outline-danger w-100"
                                style="border-right: none;border-radius:5px 0px 0px 5px;">
                                <font style="vertical-align: inherit;">
                                    <font style="vertical-align: inherit;" class="cart"><i class="bi-cart-fill me-1"></i>Add to Cart</font>
                                </font>
                            </button>
                        </form>
                        <form action="/AddToCart/{{i.product_id}}" method="post" class="w-100">
                            {% csrf_token %}
                            <button type="submit" class="btn btn-sm btn-outline-success w-100" style="border-radius:0px 5px 5px 0px;">
                                <font style="vertical-align: inherit;">
                                    <font style="vertical-align: inherit;">Buy Now</font>
                                </font>
                            </button>
                        </form>
                    </div>
                
                </div>
                <!--  -->
                <table class="table table-striped ">
                    <thead>
                        <h2>Specifications</h2>
                    </thead>
                    <tbody>
                        <tr>
                            <td>In The Box</td>
                            <td>Handset, Power Adapter, Micro USB Cable, SIM Insertion Tool, Warranty Card, User Guide
                            </td>
                        </tr>
                        <tr>
                            <td>Model Number</td>
                            <td>UHD11235845</td>
                        </tr>
                        <tr>
                            <td>Model Name</td>
                            <td>UHD11235845</td>
                        </tr>
                        <tr>
                            <td>Model Number</td>
                            <td>UHD11235845</td>
                        </tr>
                        <tr>
                            <td>Model Number</td>
                            <td>UHD11235845</td>
                        </tr>
                        <tr>
                            <td>Model Number</td>
                            <td>UHD11235845</td>
                        </tr>

                        <tr>
                            <td>Model Number</td>
                            <td>UHD11235845</td>
                        </tr>
                        <tr>
                            <td>Model Number</td>
                            <td>UHD11235845</td>
                        </tr>
                        <tr>
                            <td>Model Number</td>
                            <td>UHD11235845</td>
                        </tr>
                        <tr>
                            <td>Model Number</td>
                            <td>UHD11235845</td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </div>





    </div>
</section>

<!-- Related items section-->

<section class="py-5 bg-light">
    <div class="container px-4 px-lg-5 mt-5">
        <h2 class="fw-bolder mb-4">Recommended</h2>
        <div class="row gx-1 gx-lg-1 row-cols-2 row-cols-md-3 row-cols-xl-5 justify-content-center">
            {% for i in sc %}
            <div class="col mb-5" style="min-width:250px;">
                <div class="card h-100">
                    <!-- Sale badge-->
                    <div class="badge bg-dark text-white position-absolute" style="top: 0.5rem; right: 0.5rem">Sale
                    </div>
                    <!-- Product image-->
                    <img class="card-img-top" style="height:150px;object-fit:contain;" src='/media/{{i.product_image}}'
                        alt="..." />
                    <!-- Product details-->
                    <div class="card-body p-4">
                        <div class="text-center">
                            <!-- Product name-->
                            <a href="/product/{{i.product_id}}" style="text-decoration:none;"
                                class="fw-bolder">{{i.product_name}}</a>
                            <!-- Product price-->
                            <br>
                            <span class="text-bg-success "
                                style="border-radius:5px;padding:2px 8px;font-size: 12px;margin-top:15px;display: inline-block;">{{i.product_rating}}<small
                                    style="position:relative;top: -1px;left:4px;font-size:9px;"
                                    class="bi bi-star-fill"></small></span>
                            <span>(53,265)</span>
                            <br>


                            <h6 class="blockquote">₹{{i.product_price|intcomma}} &nbsp;<strike
                                    class="text-muted "><small>₹{{i.product_initial_price|intcomma}}</small></strike>
                            </h6>
                            </p>
                        </div>
                    </div>

                </div>
            </div>
            {% endfor %}

        </div>
    </div>
</section>
<script>
    const rating = parseInt("{{product.product_rating}}");
    console.log(rating);
    const rating_stars = document.querySelectorAll('.fa-star');
    // console.log(rating_stars);
    // rating_stars.forEach(element => {

    //});
    for (let i = 0; i <= (rating - 1); i++) {
        rating_stars[i].classList.add("checked")
    }

</script>

{% endblock body %}